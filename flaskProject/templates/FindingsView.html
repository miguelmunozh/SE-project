<!-- extends the layout.html main structure to avoid repetition -->
{% extends "layout.html" %}

<!-- html code for the body of the page-->
{% block content %}
    <h1>Findings Overview </h1>
    <div class="btn-group">
        <a class="btn btn-secondary" href="{{ url_for('CreateFinding') }}" role="button">Add Finding</a>
        <a class="btn btn-secondary" href="#" role="button">ERB Report</a>
        <a class="btn btn-secondary" href="#" role="button">Risk Matrix</a>
        <a class="btn btn-secondary" href="#" role="button">Final Report</a>
    </div>
    <hr>
    <div class="list-group">
        {% for finding in findingsList %}

            <div class="list-group-item list-group-item-action flex-column flex-fill align-items-start">
                <div class="d-flex w-100 p-3 flex-fill justify-content-between">
                    <a href="{{ url_for('FindingView', finding=finding.getid()) }}">
                        <h4 class="mb-1">{{ finding.getHostName() }}</h4>
                    </a>
                    <h5 class="mb-1">ID: {{ finding.getid() }} </h5>
                    <h5 class="mb-1">System: system 1 </h5>
                    <h5 class="mb-1">Task: Task 1 </h5>
                    <h5 class="mb-1">Subtask: Subtask 1 </h5>
                    <h5 class="mb-1">Analyst:</h5>
                    {% for t in finding.getAnalystAssigned() %}
                        <ul>
                            <li style="list-style-type: circle">
                                {{ t }}
                            </li>
                        </ul>
                    {% endfor %}
                    <h5 class="mb-1">Status: {{ finding.getStatus().value }}</h5>
                    <h5 class="mb-1">Classification: {{ finding.getClassification().value }} </h5>
                    <h5 class="mb-1">Type: {{ finding.getType().value }}</h5>
                    <h5 class="mb-1">Risk: {{ finding.getRisk() }}</h5>
                </div>
                <form method=post>
                    {# <button type="submit" class="btn btn-secondary">Archive System</button>#}
                    <button type="submit" class="btn btn-secondary"><a
                            href="{{ url_for('ArchiveFinding', finding=finding.getid()) }}">Archive Finding</a></button>
                </form>
            </div>
        {% endfor %}

    </div>
{% endblock content %}

{% block sidebar %}
    <!-- side bar -->
    <div class="content-section">
        <h3>FRIC Menu</h3>
        <p class='text-muted'>You can put any information here you'd like.
        <ul class="list-group">
            <li class="list-group-item list-group-item-light"><input class="form-control" type="text"
                                                                     placeholder="Search" aria-label="Search"></li>
            <li class="list-group-item list-group-item-light">
                <div class="dropdown"><label>Sort By</label>
                    <select class="form-control">
                        <option>Id</option>
                        <option>Date</option>
                        <option>Name</option>
                    </select>
                </div>
            </li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('EventTree') }}"> Event Tree</a></li>
            <li class="list-group-item list-group-item-light"><a
                    href="{{ url_for('AnalystProgressSummaryContentView') }}"> Analyst Progress Summary</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('EventView') }}">Event Overview</a>
            </li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('Systems') }}"> Systems</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('Tasks') }}"> Tasks</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('Subtasks') }}"> Subtasks</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('FindingsView') }}"> Findings</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('ArchiveContentView') }}"> Archived
                Contents</a>
            </li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('ConfigurationContentView') }}">
                Configuration</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('SetupContentView') }}"> Setup</a>
            </li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('Help', _anchor='findings') }}">
                Help</a></li>
            <li class="list-group-item list-group-item-light"><a href="{{ url_for('Sync') }}"> Sync</a></li>
        </ul>
        </p>
    </div>
{% endblock %}
